package idk.bluecross.ber.impl.setting

import idk.bluecross.ber.api.setting.ISetting
import idk.bluecross.ber.impl.module.Module
import kotlin.reflect.KProperty

abstract class ModuleSetting<T>(val module_: Module, override val name: String, override var value: T) : ISetting<T> {
    override operator fun getValue(thisRef: Any?, property: KProperty<*>) = value

    override operator fun setValue(thisRef: Any?, property: KProperty<*>, value: T) {
        this.value = value
    }

    init {
        module_.settings.add(this)
    }
}